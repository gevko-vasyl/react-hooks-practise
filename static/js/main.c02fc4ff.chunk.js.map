{"version":3,"sources":["components/SearchBox/SearchBox.jsx","components/CountryList/CountryList.jsx","components/CountryInfo/CountryInfo.jsx","components/Spinner/Spinner.js","services/api.js","pages/CountriesPage.jsx","components/PostList/PostList.jsx","pages/PostsPage.jsx","App.jsx","index.js"],"names":["SearchBox","onSearch","autoComplete","minLength","debounceTimeout","onChange","e","target","value","CountryList","countries","console","log","countryData","name","common","map","flags","src","png","alt","width","height","formatLanguages","languages","Object","values","join","CountryInfo","country","capital","population","spin","keyframes","Spinner","CgSpinner","fetchCountries","countryName","a","axios","get","response","data","CountriesPage","useState","setCountryName","setCountries","reqStatus","setReqStatus","useEffect","length","toast","icon","error","getCountries","showCountryList","showCountryInfo","size","PostList","posts","id","title","body","userId","slice","page","params","URLSearchParams","_limit","_page","url","PostsPage","setPosts","setPage","TOTAL_NUMBER_OF_POSTS","fetchPosts","then","prevPosts","onClick","prevPage","App","to","path","position","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qRAEaA,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC1B,OACE,8BACE,cAAC,gBAAD,CACEC,aAAa,MACbC,UAAW,EACXC,gBAAiB,IACjBC,SAAU,SAACC,GAAD,OAAOL,EAASK,EAAEC,OAAOC,aCT9BC,EAAc,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAC5BC,QAAQC,IAAIF,GACZ,IAAMG,EAAcH,EAAU,GAAGI,KAAKC,OAEtC,OADAJ,QAAQC,IAAIC,GAEV,6BACGH,EAAUM,KAAI,gBAAGF,EAAH,EAAGA,KAAMG,EAAT,EAASA,MAAT,OACb,+BACE,qBAAKC,IAAKD,EAAME,IAAKC,IAAKN,EAAKC,OAAQM,MAAM,KAAKC,OAAO,OACxDR,EAAKC,SAFCD,EAAKC,cCPhBQ,EAAkB,SAACC,GACvB,OAAOC,OAAOC,OAAOF,GAAWG,KAAK,OAG1BC,EAAc,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpBZ,EAAgDY,EAAhDZ,MAAOH,EAAyCe,EAAzCf,KAAMgB,EAAmCD,EAAnCC,QAASN,EAA0BK,EAA1BL,UAAWO,EAAeF,EAAfE,WACzC,OACE,gCACE,+BACE,qBAAKb,IAAKD,EAAME,IAAKC,IAAKN,EAAKC,OAAQM,MAAM,KAAKC,OAAO,OACxDR,EAAKC,UAER,0CAAae,KACb,6CAAgBC,KAChB,4CAAeR,EAAgBC,U,gCCV/BQ,EAAOC,YAAH,sFAIGC,EAAU,YAAOC,IAAP,qBAAH,aACLH,EADK,wB,iBCNPI,EAAc,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACLC,IAAMC,IAAN,8CACkBH,IAFb,cACtBI,EADsB,yBAIrB,CAACA,EAASC,OAJW,2CAAH,sDCMdC,EAAgB,WAC3B,MAAsCC,mBAAS,IAA/C,mBAAOP,EAAP,KAAoBQ,EAApB,KACA,EAAkCD,mBAAS,IAA3C,mBAAOlC,EAAP,KAAkBoC,EAAlB,KACA,EAAkCF,mBAAS,QAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KAMAC,qBAAU,WACJvC,EAAUwC,OAAS,IACrBC,YAAM,6DAA8D,CAClEC,KAAM,mBAGT,CAAC1C,EAAUwC,SAEdD,qBAAU,WACU,aAAdF,GACFI,IAAME,MAAM,8CAEb,CAACN,IAEJE,qBAAU,WAAM,4CAGd,4BAAAX,EAAA,sEAEIU,EAAa,WACbF,EAAa,IAHjB,SAI4BV,EAAeC,GAJ3C,OAIU3B,EAJV,OAKIsC,EAAa,YACbF,EAAapC,EAAU,IAN3B,kDAQIsC,EAAa,YARjB,2DAHc,sBACM,KAAhBX,GADU,mCAediB,KACC,CAACjB,IAEJ,IAAMkB,EAAkB7C,EAAUwC,QAAU,GAAKxC,EAAUwC,OAAS,GAC9DM,EAAuC,IAArB9C,EAAUwC,OAElC,OACE,gCACG,cAAC,EAAD,CAAWjD,SAzCS,SAACoC,GACxBQ,EAAeR,MAyCE,YAAdU,GAA2B,cAACb,EAAD,CAASuB,KAAK,OACzCF,GAAmB,cAAC,EAAD,CAAa7C,UAAWA,IAC3C8C,GAAmB,cAAC,EAAD,CAAa3B,QAASnB,EAAU,S,QCzD7CgD,EAAW,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACzB,OACE,8BACGA,EAAM3C,KAAI,YAAkC,IAA/B4C,EAA8B,EAA9BA,GAAIC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OAC7B,OACE,+BACE,6BAAKF,EAAMG,MAAM,EAAG,MACpB,8BACE,wCADF,KACmBJ,KAEnB,8BACE,0CADF,KACqBG,KAErB,4BAAID,MARGF,S,4CCInB,WAA0BK,GAA1B,mBAAA3B,EAAA,6DACQ4B,EAAS,IAAIC,gBAAgB,CACjCC,OANmB,GAOnBC,MAAOJ,IAEHK,EALR,qDAK4DJ,GAL5D,SAMyB3B,IAAMC,IAAI8B,GANnC,cAMQ7B,EANR,yBAOSA,EAASC,MAPlB,4C,sBAUO,IAAM6B,EAAY,WACvB,MAA0B3B,mBAAS,IAAnC,mBAAOe,EAAP,KAAca,EAAd,KACA,EAAwB5B,mBAAS,GAAjC,mBAAOqB,EAAP,KAAaQ,EAAb,KAaA,OAXAxB,qBAAU,WACR,GAAIgB,EAjBYS,EAkBd,OAAOvB,IAAME,MAAM,gDAAiD,CAClED,KAAM,kB,4CAGVuB,CAAWV,GAAMW,MAAK,SAACjB,GAAD,OACpBa,GAAS,SAACK,GAAD,4BAAmBA,GAAnB,YAAiClB,YAE3C,CAACM,IAGF,gCACGN,EAAMT,OAAS,GAAK,cAAC,EAAD,CAAUS,MAAOA,IACtC,wBAAQmB,QAAS,kBAAML,GAAQ,SAACM,GAAD,OAAcA,EAAW,MAAxD,kCChCOC,EAAM,WACjB,OACE,gCACE,+BACE,6BACE,cAAC,IAAD,CAAMC,GAAG,aAAT,oDAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,SAAT,iDAGJ,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,aAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,EAAD,SAGJ,cAAC,IAAD,CAASC,SAAS,kBClBxBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.c02fc4ff.chunk.js","sourcesContent":["import { DebounceInput } from \"react-debounce-input\";\n\nexport const SearchBox = ({ onSearch }) => {\n  return (\n    <div>\n      <DebounceInput\n        autoComplete=\"off\"\n        minLength={1}\n        debounceTimeout={300}\n        onChange={(e) => onSearch(e.target.value)}\n      />\n    </div>\n  );\n};\n","export const CountryList = ({ countries }) => {\n  console.log(countries);\n  const countryData = countries[0].name.common;\n  console.log(countryData);\n  return (\n    <ul>\n      {countries.map(({ name, flags }) => (\n        <li key={name.common}>\n          <img src={flags.png} alt={name.common} width=\"24\" height=\"24\" />\n          {name.common}\n        </li>\n      ))}\n    </ul>\n  );\n};\n","const formatLanguages = (languages) => {\n  return Object.values(languages).join(\", \");\n};\n\nexport const CountryInfo = ({ country }) => {\n  const { flags, name, capital, languages, population } = country;\n  return (\n    <div>\n      <h1>\n        <img src={flags.png} alt={name.common} width=\"40\" height=\"40\" />\n        {name.common}\n      </h1>\n      <p>Capital: {capital}</p>\n      <p>Population: {population}</p>\n      <p>Languages: {formatLanguages(languages)}</p>\n    </div>\n  );\n};\n","import styled from \"@emotion/styled/macro\";\nimport { keyframes } from \"@emotion/react\";\nimport { CgSpinner } from \"react-icons/cg\";\n\nconst spin = keyframes`\n0%{transform:rotate(0deg)};\n100%{transform:rotate(1turn)}`;\n\nexport const Spinner = styled(CgSpinner)`\n  animation: ${spin} 1s linear infinite;\n`;\n","import axios from \"axios\";\n\nexport const fetchCountries = async (countryName) => {\n  const response = await axios.get(\n    `https://restcountries.com/v3.1/name/${countryName}`\n  );\n  return [response.data];\n};\n\n// import axios from \"axios\";\n\n// axios.defaults.baseURL = \"https://restcountries.eu/rest/v2\";\n\n// export const fetchCountries = async (countryName) => {\n//   const params = \"fields=name;capital;population;flag;languages\";\n//   const response = await axios.get(`/name/${countryName}?${params}`);\n//   return response.data;\n// };\n","import { useState, useEffect } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { SearchBox } from \"components/SearchBox/SearchBox\";\nimport { CountryList } from \"components/CountryList/CountryList\";\nimport { CountryInfo } from \"components/CountryInfo/CountryInfo\";\nimport { Spinner } from \"components/Spinner/Spinner\";\nimport { fetchCountries } from \"services/api\";\n\nexport const CountriesPage = () => {\n  const [countryName, setCountryName] = useState(\"\");\n  const [countries, setCountries] = useState([]);\n  const [reqStatus, setReqStatus] = useState(\"idle\");\n\n  const handleNameChange = (countryName) => {\n    setCountryName(countryName);\n  };\n\n  useEffect(() => {\n    if (countries.length > 10) {\n      toast(\"Too many matches found. Please enter a more specific name.\", {\n        icon: \"⚠️\",\n      });\n    }\n  }, [countries.length]);\n\n  useEffect(() => {\n    if (reqStatus === \"rejected\") {\n      toast.error(\"Oops, there is no country with that name\");\n    }\n  }, [reqStatus]);\n\n  useEffect(() => {\n    if (countryName === \"\") return;\n\n    async function getCountries() {\n      try {\n        setReqStatus(\"pending\");\n        setCountries([]);\n        const countries = await fetchCountries(countryName);\n        setReqStatus(\"resolved\");\n        setCountries(countries[0]);\n      } catch (error) {\n        setReqStatus(\"rejected\");\n      }\n    }\n\n    getCountries();\n  }, [countryName]);\n\n  const showCountryList = countries.length >= 2 && countries.length < 10;\n  const showCountryInfo = countries.length === 1;\n\n  return (\n    <div>\n      {<SearchBox onSearch={handleNameChange} />}\n      {reqStatus === \"pending\" && <Spinner size=\"40\" />}\n      {showCountryList && <CountryList countries={countries} />}\n      {showCountryInfo && <CountryInfo country={countries[0]} />}\n    </div>\n  );\n};\n","export const PostList = ({ posts }) => {\n  return (\n    <div>\n      {posts.map(({ id, title, body, userId }) => {\n        return (\n          <li key={id}>\n            <h2>{title.slice(0, 30)}</h2>\n            <p>\n              <b>Post id</b>: {id}\n            </p>\n            <p>\n              <b>Author id</b>: {userId}\n            </p>\n            <p>{body}</p>\n          </li>\n        );\n      })}\n    </div>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { PostList } from \"../components/PostList/PostList\";\n\nconst POSTS_PER_PAGE = 50;\nconst TOTAL_NUMBER_OF_POSTS = 100;\nconst TOTAL_PAGES = TOTAL_NUMBER_OF_POSTS / POSTS_PER_PAGE;\n\nasync function fetchPosts(page) {\n  const params = new URLSearchParams({\n    _limit: POSTS_PER_PAGE,\n    _page: page,\n  });\n  const url = `https://jsonplaceholder.typicode.com/posts?${params}`;\n  const response = await axios.get(url);\n  return response.data;\n}\n\nexport const PostsPage = () => {\n  const [posts, setPosts] = useState([]);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (page > TOTAL_PAGES) {\n      return toast.error(\"We are sorry, there are no more posts to load\", {\n        icon: \"⚠️\",\n      });\n    }\n    fetchPosts(page).then((posts) =>\n      setPosts((prevPosts) => [...prevPosts, ...posts])\n    );\n  }, [page]);\n\n  return (\n    <div>\n      {posts.length > 0 && <PostList posts={posts} />}\n      <button onClick={() => setPage((prevPage) => prevPage + 1)}>\n        Fetch more posts\n      </button>\n    </div>\n  );\n};\n","import { Toaster } from \"react-hot-toast\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport { CountriesPage } from \"pages/CountriesPage\";\nimport { PostsPage } from \"pages/PostsPage\";\n\nexport const App = () => {\n  return (\n    <div>\n      <ul>\n        <li>\n          <Link to=\"/countries\">Страны</Link>\n        </li>\n        <li>\n          <Link to=\"/posts\">Посты</Link>\n        </li>\n      </ul>\n      <Switch>\n        <Route path=\"/countries\">\n          <CountriesPage />\n        </Route>\n        <Route path=\"/posts\">\n          <PostsPage />\n        </Route>\n      </Switch>\n      <Toaster position=\"top-right\" />\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}