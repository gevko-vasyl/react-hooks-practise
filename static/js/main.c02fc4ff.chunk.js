(this["webpackJsonpreact-hooks-practise"]=this["webpackJsonpreact-hooks-practise"]||[]).push([[0],{54:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c,r=n(0),s=n.n(r),a=n(44),o=n.n(a),i=n(21),j=(n(54),n(12)),u=n(3),b=n(10),h=n.n(b),l=n(15),p=n(14),O=n(45),d=n(1),f=function(e){var t=e.onSearch;return Object(d.jsx)("div",{children:Object(d.jsx)(O.DebounceInput,{autoComplete:"off",minLength:1,debounceTimeout:300,onChange:function(e){return t(e.target.value)}})})},x=function(e){var t=e.countries;console.log(t);var n=t[0].name.common;return console.log(n),Object(d.jsx)("ul",{children:t.map((function(e){var t=e.name,n=e.flags;return Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:n.png,alt:t.common,width:"24",height:"24"}),t.common]},t.common)}))})},m=function(e){return Object.values(e).join(", ")},g=function(e){var t=e.country,n=t.flags,c=t.name,r=t.capital,s=t.languages,a=t.population;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:[Object(d.jsx)("img",{src:n.png,alt:c.common,width:"40",height:"40"}),c.common]}),Object(d.jsxs)("p",{children:["Capital: ",r]}),Object(d.jsxs)("p",{children:["Population: ",a]}),Object(d.jsxs)("p",{children:["Languages: ",m(s)]})]})},v=n(46),y=n(49),w=n(30),k=n(48),S=Object(w.a)(c||(c=Object(v.a)(["\n0%{transform:rotate(0deg)};\n100%{transform:rotate(1turn)}"]))),E=Object(y.a)(k.a,{target:"ejo0k2p0"})("animation:",S," 1s linear infinite;"),C=n(26),P=n.n(C),I=function(){var e=Object(l.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("https://restcountries.com/v3.1/name/".concat(t));case 2:return n=e.sent,e.abrupt("return",[n.data]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),a=Object(p.a)(s,2),o=a[0],i=a[1],u=Object(r.useState)("idle"),b=Object(p.a)(u,2),O=b[0],m=b[1];Object(r.useEffect)((function(){o.length>10&&Object(j.b)("Too many matches found. Please enter a more specific name.",{icon:"\u26a0\ufe0f"})}),[o.length]),Object(r.useEffect)((function(){"rejected"===O&&j.b.error("Oops, there is no country with that name")}),[O]),Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m("pending"),i([]),e.next=5,I(n);case 5:t=e.sent,m("resolved"),i(t[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),m("rejected");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}""!==n&&function(){e.apply(this,arguments)}()}),[n]);var v=o.length>=2&&o.length<10,y=1===o.length;return Object(d.jsxs)("div",{children:[Object(d.jsx)(f,{onSearch:function(e){c(e)}}),"pending"===O&&Object(d.jsx)(E,{size:"40"}),v&&Object(d.jsx)(x,{countries:o}),y&&Object(d.jsx)(g,{country:o[0]})]})},J=n(33),T=function(e){var t=e.posts;return Object(d.jsx)("div",{children:t.map((function(e){var t=e.id,n=e.title,c=e.body,r=e.userId;return Object(d.jsxs)("li",{children:[Object(d.jsx)("h2",{children:n.slice(0,30)}),Object(d.jsxs)("p",{children:[Object(d.jsx)("b",{children:"Post id"}),": ",t]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("b",{children:"Author id"}),": ",r]}),Object(d.jsx)("p",{children:c})]},t)}))})};function _(){return(_=Object(l.a)(h.a.mark((function e(t){var n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({_limit:50,_page:t}),c="https://jsonplaceholder.typicode.com/posts?".concat(n),e.next=4,P.a.get(c);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(1),a=Object(p.a)(s,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){if(o>2)return j.b.error("We are sorry, there are no more posts to load",{icon:"\u26a0\ufe0f"});(function(e){return _.apply(this,arguments)})(o).then((function(e){return c((function(t){return[].concat(Object(J.a)(t),Object(J.a)(e))}))}))}),[o]),Object(d.jsxs)("div",{children:[n.length>0&&Object(d.jsx)(T,{posts:n}),Object(d.jsx)("button",{onClick:function(){return i((function(e){return e+1}))},children:"Fetch more posts"})]})},A=function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/countries",children:"\u0421\u0442\u0440\u0430\u043d\u044b"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/posts",children:"\u041f\u043e\u0441\u0442\u044b"})})]}),Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{path:"/countries",children:Object(d.jsx)(L,{})}),Object(d.jsx)(u.a,{path:"/posts",children:Object(d.jsx)(z,{})})]}),Object(d.jsx)(j.a,{position:"top-right"})]})};o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(A,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.c02fc4ff.chunk.js.map