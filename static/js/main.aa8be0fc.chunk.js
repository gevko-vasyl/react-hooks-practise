(this["webpackJsonpreact-hooks-practise"]=this["webpackJsonpreact-hooks-practise"]||[]).push([[0],{88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c,r,o=n(1),a=n.n(o),i=n(32),s=n.n(i),u=n(15),j=n(24),l=n(21),b=n(27),d=n(8),h=n(29),O=n(6),p=n.n(O),f=n(13),x=n(18),m=n.n(x),g=Object(l.b)("todo/fetchTodoList",Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:7777/tasks");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),v=Object(l.b)("todo/createTodo",function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("http://localhost:7777/tasks",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=Object(l.b)("todo/deleteTodo",function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.delete("http://localhost:7777/tasks/".concat(t)),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w={todos:Object(l.c)({name:"todos",initialState:{items:[],status:null,error:null},extraReducers:(c={},Object(d.a)(c,g.fulfilled,(function(e,t){e.items=t.payload,e.status=null,e.error=null})),Object(d.a)(c,g.pending,(function(e,t){e.status="loading"})),Object(d.a)(c,g.rejected,(function(e,t){e.status="rejected",e.error="Error"})),Object(d.a)(c,v.fulfilled,(function(e,t){e.items=[].concat(Object(h.a)(e.items),[t.payload]),e.status=null,e.error=null})),Object(d.a)(c,v.pending,(function(e,t){e.status="loading",e.error=null})),Object(d.a)(c,v.rejected,(function(e,t){e.status=null,e.error="Error"})),Object(d.a)(c,y.fulfilled,(function(e,t){e.items=e.items.filter((function(e){return e.id!==t.payload}))})),c)}).reducer},k=Object(l.a)({reducer:w,devTools:!1,middleware:[function(e){return function(t){return function(n){console.group(n.type);var c=e.getState();console.log("prevState ",c),console.info("action ",n);var r=t(n),o=e.getState();return console.log("newState ",o),console.groupEnd(),r}}},b.a]}),S=n(20),C=n(4),T=n(16),E=n(51),L=n(2),P=function(e){var t=e.onSearch;return Object(L.jsx)("div",{children:Object(L.jsx)(E.DebounceInput,{autoComplete:"off",minLength:1,debounceTimeout:300,onChange:function(e){return t(e.target.value)}})})},A=function(e){var t=e.countries;console.log(t);var n=t[0].name.common;return console.log(n),Object(L.jsx)("ul",{children:t.map((function(e){var t=e.name,n=e.flags;return Object(L.jsxs)("li",{children:[Object(L.jsx)("img",{src:n.png,alt:t.common,width:"24",height:"24"}),t.common]},t.common)}))})},F=function(e){return Object.values(e).join(", ")},I=function(e){var t=e.country,n=t.flags,c=t.name,r=t.capital,o=t.languages,a=t.population;return Object(L.jsxs)("div",{children:[Object(L.jsxs)("h1",{children:[Object(L.jsx)("img",{src:n.png,alt:c.common,width:"40",height:"40"}),c.common]}),Object(L.jsxs)("p",{children:["Capital: ",r]}),Object(L.jsxs)("p",{children:["Population: ",a]}),Object(L.jsxs)("p",{children:["Languages: ",F(o)]})]})},M=n(52),D=n(56),H=n(39),J=n(53),N=Object(H.a)(r||(r=Object(M.a)(["\n0%{transform:rotate(0deg)};\n100%{transform:rotate(1turn)}"]))),R=Object(D.a)(J.a,{target:"ejo0k2p0"})("animation:",N," 1s linear infinite;"),U=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://restcountries.com/v3.1/name/".concat(t));case 2:return n=e.sent,e.abrupt("return",[n.data]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(o.useState)(""),t=Object(T.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)([]),a=Object(T.a)(r,2),i=a[0],s=a[1],u=Object(o.useState)("idle"),j=Object(T.a)(u,2),l=j[0],b=j[1];Object(o.useEffect)((function(){i.length>10&&Object(S.b)("Too many matches found. Please enter a more specific name.",{icon:"\u26a0\ufe0f"})}),[i.length]),Object(o.useEffect)((function(){"rejected"===l&&S.b.error("Oops, there is no country with that name")}),[l]),Object(o.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b("pending"),s([]),e.next=5,U(n);case 5:t=e.sent,b("resolved"),s(t[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),b("rejected");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}""!==n&&function(){e.apply(this,arguments)}()}),[n]);var d=i.length>=2&&i.length<10,h=1===i.length;return Object(L.jsxs)("div",{children:[Object(L.jsx)(P,{onSearch:function(e){c(e)}}),"pending"===l&&Object(L.jsx)(R,{size:"40"}),d&&Object(L.jsx)(A,{countries:i}),h&&Object(L.jsx)(I,{country:i[0]})]})},z=function(e){var t=e.posts;return Object(L.jsx)("div",{children:t.map((function(e){var t=e.id,n=e.title,c=e.body,r=e.userId;return Object(L.jsxs)("li",{children:[Object(L.jsx)("h2",{children:n.slice(0,30)}),Object(L.jsxs)("p",{children:[Object(L.jsx)("b",{children:"Post id"}),": ",t]}),Object(L.jsxs)("p",{children:[Object(L.jsx)("b",{children:"Author id"}),": ",r]}),Object(L.jsx)("p",{children:c})]},t)}))})};function B(){return(B=Object(f.a)(p.a.mark((function e(t){var n,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({_limit:50,_page:t}),c="https://jsonplaceholder.typicode.com/posts?".concat(n),e.next=4,m.a.get(c);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(){var e=Object(o.useState)([]),t=Object(T.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(1),a=Object(T.a)(r,2),i=a[0],s=a[1];return Object(o.useEffect)((function(){if(i>2)return S.b.error("We are sorry, there are no more posts to load",{icon:"\u26a0\ufe0f"});(function(e){return B.apply(this,arguments)})(i).then((function(e){return c((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e))}))}))}),[i]),Object(L.jsxs)("div",{children:[n.length>0&&Object(L.jsx)(z,{posts:n}),Object(L.jsx)("button",{onClick:function(){return s((function(e){return e+1}))},children:"Fetch more posts"})]})},q=n(23),G=n(54),K=function(e){e.status;var t=e.title,n=e.author,c=e.priority,r=e.id,o=(e.index,Object(u.b)());return Object(L.jsx)("div",{children:Object(L.jsxs)("div",{onClick:function(){},children:[Object(L.jsx)("p",{children:t}),Object(L.jsxs)("p",{children:[c," priority"]}),Object(L.jsx)("p",{children:n}),Object(L.jsx)("span",{onClick:function(){o(y(r))},children:Object(L.jsx)(G.a,{})})]})})},Q={title:"",author:"",priority:"Low",agree:!1},V=function(){var e=Object(o.useState)(Q),t=Object(T.a)(e,2),n=t[0],c=t[1],r=Object(u.b)(),a=function(e){var t=e.target.name,r="checkbox"===e.target.type?e.target.checked:e.target.value;c(Object(q.a)(Object(q.a)({},n),{},Object(d.a)({},t,r)))},i=n.title,s=n.author,j=n.priority,l=n.agree;return Object(L.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),r(v(n)),c(Q)},children:[Object(L.jsx)("input",{type:"text",name:"title",placeholder:"New Todo",autoFocus:!0,value:i,onChange:a}),Object(L.jsx)("input",{type:"text",name:"author",placeholder:"Author",autoFocus:!0,value:s,onChange:a}),Object(L.jsxs)("select",{name:"priority",value:j,onChange:a,children:[Object(L.jsx)("option",{value:"Priority",disabled:!0,hidden:!0,children:"Priority"}),Object(L.jsx)("option",{value:"Low",children:"Low"}),Object(L.jsx)("option",{value:"Medium",children:"Medium"}),Object(L.jsx)("option",{value:"High",children:"High"})]}),Object(L.jsxs)("label",{htmlFor:"agree",children:[Object(L.jsx)("input",{type:"checkbox",name:"agree",id:"agree",checked:l,onChange:a}),"Agree with our policy"]}),Object(L.jsx)("button",{type:"submit",children:" Add Todo"})]})},X=function(){var e=Object(u.c)((function(e){return e.todos.items})),t=Object(u.b)();return Object(o.useEffect)((function(){t(g())}),[t]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h1",{children:"Todo List"}),Object(L.jsx)(V,{}),Object(L.jsx)("ul",{children:e.length?e.map((function(e,t){return Object(L.jsx)("li",{children:Object(L.jsx)(K,Object(q.a)(Object(q.a)({},e),{},{index:t}))},e.id)})):Object(L.jsx)("li",{children:"No tasks"})}),Object(L.jsxs)("div",{children:[Object(L.jsx)("button",{"data-filter":"all",children:"All"}),Object(L.jsx)("button",{"data-filter":"compeleted",children:"Compeleted"}),Object(L.jsx)("button",{"data-filter":"uncompeleted",children:"Uncompeleted"})]})]})},Y=function(){return Object(L.jsx)("div",{children:Object(L.jsx)(X,{})})},Z=function(){return Object(L.jsxs)("div",{children:[Object(L.jsxs)("ul",{children:[Object(L.jsx)("li",{children:Object(L.jsx)(j.b,{to:"/countries",children:"\u0421\u0442\u0440\u0430\u043d\u044b"})}),Object(L.jsx)("li",{children:Object(L.jsx)(j.b,{to:"/posts",children:"\u041f\u043e\u0441\u0442\u044b"})}),Object(L.jsx)("li",{children:Object(L.jsx)(j.b,{to:"/todos",children:"Todo"})})]}),Object(L.jsxs)(C.c,{children:[Object(L.jsx)(C.a,{path:"/countries",children:Object(L.jsx)(_,{})}),Object(L.jsx)(C.a,{path:"/posts",children:Object(L.jsx)(W,{})}),Object(L.jsx)(C.a,{path:"/todos",children:Object(L.jsx)(Y,{})})]}),Object(L.jsx)(S.a,{position:"top-right"})]})};n(88);s.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(u.a,{store:k,children:Object(L.jsx)(j.a,{children:Object(L.jsx)(Z,{})})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.aa8be0fc.chunk.js.map